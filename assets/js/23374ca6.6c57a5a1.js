"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[278],{7403:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"README","title":"\ud83e\udde9 Laravel Migration Linter","description":"Migration Linter","source":"@site/docs/README.md","sourceDirName":".","slug":"/","permalink":"/sufyan-laravel-migration-lint-package/docs/","draft":false,"unlisted":false,"editUrl":"https://github.com/muhammad-sufyan5/sufyan-laravel-migration-lint-package/tree/main/docs-site/docs/README.md","tags":[],"version":"current","frontMatter":{}}');var s=i(4848),a=i(8453);const t={},l="\ud83e\udde9 Laravel Migration Linter",o={},c=[{value:"\ud83d\ude80 Features",id:"-features",level:2},{value:"\ud83d\udcf8 Screenshot",id:"-screenshot",level:2},{value:"\ud83d\udce6 Installation",id:"-installation",level:2},{value:"You can use the following flags and options to customize behavior:",id:"you-can-use-the-following-flags-and-options-to-customize-behavior",level:3},{value:"Lint all migrations",id:"lint-all-migrations",level:3},{value:"Generate a new baseline file (ignore current issues)",id:"generate-a-new-baseline-file-ignore-current-issues",level:3},{value:"Run only on a specific path",id:"run-only-on-a-specific-path",level:3},{value:"Export lint report as JSON (for CI)",id:"export-lint-report-as-json-for-ci",level:3},{value:"Use a custom baseline file",id:"use-a-custom-baseline-file",level:3},{value:"Improving usability for smaller terminal sizes",id:"improving-usability-for-smaller-terminal-sizes",level:3},{value:"\u2699\ufe0f Publishing Configuration",id:"\ufe0f-publishing-configuration",level:2},{value:"\u2699\ufe0f Configuration",id:"\ufe0f-configuration",level:2},{value:"\ud83e\uddf0 GitHub Actions Integration",id:"-github-actions-integration",level:2},{value:"\ud83e\uddd1\u200d\ud83d\udcbb Contributing",id:"-contributing",level:2},{value:"\ud83e\udde0 Author",id:"-author",level:2},{value:"\ud83e\uddfe License",id:"-license",level:2}];function d(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"-laravel-migration-linter",children:"\ud83e\udde9 Laravel Migration Linter"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://github.com/muhammad-sufyan5/sufyan-laravel-migration-lint-package/actions",children:(0,s.jsx)(n.img,{src:"https://github.com/muhammad-sufyan5/sufyan-laravel-migration-lint-package/actions/workflows/migration-linter.yml/badge.svg",alt:"Migration Linter"})}),"\r\n",(0,s.jsx)(n.a,{href:"https://packagist.org/packages/sufyandev/laravel-migration-linter",children:(0,s.jsx)(n.img,{src:"https://img.shields.io/packagist/v/sufyandev/laravel-migration-linter.svg?style=flat-square",alt:"Latest Version on Packagist"})}),"\r\n",(0,s.jsx)(n.a,{href:"https://packagist.org/packages/sufyandev/laravel-migration-linter",children:(0,s.jsx)(n.img,{src:"https://img.shields.io/packagist/dt/sufyandev/laravel-migration-linter.svg?style=flat-square",alt:"Total Downloads"})}),"\r\n",(0,s.jsx)(n.a,{href:"LICENSE",children:(0,s.jsx)(n.img,{src:"https://img.shields.io/badge/license-MIT-green.svg?style=flat-square",alt:"License"})})]}),"\n",(0,s.jsxs)(n.p,{children:["A lightweight Laravel package that ",(0,s.jsx)(n.strong,{children:"analyzes your database migrations"})," and warns you about risky schema changes \u2014 before they reach production."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-features",children:"\ud83d\ude80 Features"}),"\n",(0,s.jsxs)(n.p,{children:["\u2705 Detects dangerous migration operations (like adding non-nullable columns without defaults).",(0,s.jsx)(n.br,{}),"\n","\u2705 Warns about missing indexes on foreign key columns.",(0,s.jsx)(n.br,{}),"\n","\u2705 Warns when columns are dropped (data loss risk).",(0,s.jsx)(n.br,{}),"\n","\u2705 Warns when float() is used for money fields (precision issue).",(0,s.jsx)(n.br,{}),"\n","\u2705 Warns when adding unique constraints to existing data.",(0,s.jsx)(n.br,{}),"\n","\u2705 Configurable rule severities (info, warning, error).",(0,s.jsx)(n.br,{}),"\n","\u2705 Baseline support to ignore known legacy issues.",(0,s.jsx)(n.br,{}),"\n","\u2705 CLI report with JSON output & colorized table.",(0,s.jsx)(n.br,{}),"\n","\u2705 Ready for CI/CD integration (GitHub Actions support)."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-screenshot",children:"\ud83d\udcf8 Screenshot"}),"\n",(0,s.jsx)("img",{src:"./assets/migrate-lint-report.png",alt:"Laravel Migration Linter report",width:"900"}),"\n",(0,s.jsx)("sub",{children:"Screenshot from v1.0.0"}),"\n",(0,s.jsx)(n.h2,{id:"-installation",children:"\ud83d\udce6 Installation"}),"\n",(0,s.jsx)(n.p,{children:"Install via Composer:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"composer require sufyandev/laravel-migration-linter --dev\n"})}),"\n",(0,s.jsx)(n.p,{children:"The package will auto-register via Laravel\u2019s package discovery."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.p,{children:"\ud83e\udde9 Usage\r\nRun the built-in Artisan command to lint all migration files:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"php artisan migrate:lint\n"})}),"\n",(0,s.jsx)(n.h3,{id:"you-can-use-the-following-flags-and-options-to-customize-behavior",children:"You can use the following flags and options to customize behavior:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Option / Flag"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--generate-baseline"})}),(0,s.jsxs)(n.td,{children:["Create a JSON file (",(0,s.jsx)(n.code,{children:"migration-linter-baseline.json"}),") that records all current issues so they can be ignored in future runs. Useful for introducing the linter to legacy projects."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--path="})}),(0,s.jsxs)(n.td,{children:["Lint a specific migration file or directory instead of the default ",(0,s.jsx)(n.code,{children:"database/migrations"})," folder."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--json"})}),(0,s.jsx)(n.td,{children:"Output results in structured JSON format (great for CI/CD pipelines)."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--baseline="})}),(0,s.jsxs)(n.td,{children:["Provide a custom path to a baseline file for ignoring known issues (overrides the default ",(0,s.jsx)(n.code,{children:"migration-linter-baseline.json"}),")."]})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Example Usage"}),"\n",(0,s.jsx)(n.h3,{id:"lint-all-migrations",children:"Lint all migrations"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"php artisan migrate:lint\n"})}),"\n",(0,s.jsx)(n.h3,{id:"generate-a-new-baseline-file-ignore-current-issues",children:"Generate a new baseline file (ignore current issues)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"php artisan migrate:lint --generate-baseline\n"})}),"\n",(0,s.jsx)(n.h3,{id:"run-only-on-a-specific-path",children:"Run only on a specific path"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"php artisan migrate:lint --path=database/migrations\n"})}),"\n",(0,s.jsx)(n.h3,{id:"export-lint-report-as-json-for-ci",children:"Export lint report as JSON (for CI)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"php artisan migrate:lint --json > storage/lint-report.json\n"})}),"\n",(0,s.jsx)(n.h3,{id:"use-a-custom-baseline-file",children:"Use a custom baseline file"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"php artisan migrate:lint --baseline=storage/custom-baseline.json\n"})}),"\n",(0,s.jsx)(n.h3,{id:"improving-usability-for-smaller-terminal-sizes",children:"Improving usability for smaller terminal sizes"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"php artisan migrate:lint --compact\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-publishing-configuration",children:"\u2699\ufe0f Publishing Configuration"}),"\n",(0,s.jsx)(n.p,{children:"You can publish the configuration file to customize rule settings:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'php artisan vendor:publish --tag="migration-linter-config"\n'})}),"\n",(0,s.jsx)(n.p,{children:"This creates:\r\nconfig/migration-linter.php"}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-configuration",children:"\u2699\ufe0f Configuration"}),"\n",(0,s.jsx)(n.p,{children:"Default config file (config/migration-linter.php):"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"return [\r\n    'severity_threshold' => 'warning',\r\n\r\n    'rules' => [\r\n        'AddNonNullableColumnWithoutDefault' => [\r\n            'enabled'  => true,\r\n            'severity' => 'warning',\r\n        ],\r\n        'MissingIndexOnForeignKey' => [\r\n            'enabled'  => true,\r\n            'severity' => 'warning',\r\n        ],\r\n    ],\r\n];\n"})}),"\n",(0,s.jsx)(n.h2,{id:"-github-actions-integration",children:"\ud83e\uddf0 GitHub Actions Integration"}),"\n",(0,s.jsx)(n.p,{children:"Add this workflow file: .github/workflows/migration-linter.yml"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"name: Laravel Migration Linter\r\non: [push, pull_request]\r\njobs:\r\n  lint:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - uses: actions/checkout@v4\r\n      - uses: shivammathur/setup-php@v2\r\n        with: { php-version: 8.3 }\r\n      - run: composer install --no-interaction\r\n      - run: php artisan migrate:lint --json > lint-report.json\r\n\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-contributing",children:"\ud83e\uddd1\u200d\ud83d\udcbb Contributing"}),"\n",(0,s.jsx)(n.p,{children:"Contributions are welcome!\r\nIf you have an idea for a useful rule or enhancement, feel free to open a PR or issue."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-author",children:"\ud83e\udde0 Author"}),"\n",(0,s.jsxs)(n.p,{children:["Muhammad Sufyan\r\n\ud83d\udce7 ",(0,s.jsx)(n.a,{href:"mailto:muhammadsufyanwebdeveloper@gmail.com",children:"muhammadsufyanwebdeveloper@gmail.com"}),"\r\n\ud83d\udc19 GitHub: @muhammad-sufyan5"]}),"\n",(0,s.jsx)(n.p,{children:"\u201cSmart developers don\u2019t debug production \u2014 they lint migrations.\u201d"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-license",children:"\ud83e\uddfe License"}),"\n",(0,s.jsx)(n.p,{children:"Released under the MIT License.\r\n\xa9 2025 Sufyan. All rights reserved."})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>l});var r=i(6540);const s={},a=r.createContext(s);function t(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);