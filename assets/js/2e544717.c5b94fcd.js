"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[628],{4642:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"rules","title":"\ud83d\udccf Available Linter Rules","description":"Each rule can be enabled, disabled, or adjusted for severity in config/migration-linter.php.","source":"@site/docs/rules.md","sourceDirName":".","slug":"/rules","permalink":"/sufyan-laravel-migration-lint-package/docs/rules","draft":false,"unlisted":false,"editUrl":"https://github.com/muhammad-sufyan5/sufyan-laravel-migration-lint-package/tree/main/docs-site/docs/rules.md","tags":[],"version":"current","lastUpdatedBy":"Muhammad Sufyan","lastUpdatedAt":1761572727000,"sidebarPosition":5,"frontMatter":{"id":"rules","title":"\ud83d\udccf Available Linter Rules","sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"\ud83e\uddf1 Configuration","permalink":"/sufyan-laravel-migration-lint-package/docs/configuration"},"next":{"title":"\ud83e\udde0 Writing Custom Rules","permalink":"/sufyan-laravel-migration-lint-package/docs/writing-custom-rules"}}');var l=i(4848),a=i(8453);const t={id:"rules",title:"\ud83d\udccf Available Linter Rules",sidebar_position:5},s=void 0,d={},o=[{value:"\u2699\ufe0f Severity Levels",id:"\ufe0f-severity-levels",level:3},{value:"Quick Navigation",id:"quick-navigation",level:3},{value:"\ud83e\udde9 AddNonNullableColumnWithoutDefault",id:"-addnonnullablecolumnwithoutdefault",level:2},{value:"\ud83d\udd0d What it checks",id:"-what-it-checks",level:3},{value:"\ud83d\udca3 Why it matters",id:"-why-it-matters",level:3},{value:"\u26a0\ufe0f Triggers",id:"\ufe0f-triggers",level:3},{value:"\ud83e\udde0 Recommendation",id:"-recommendation",level:3},{value:"\ud83e\udde9 MissingIndexOnForeignKey",id:"-missingindexonforeignkey",level:2},{value:"\ud83d\udd0d What it checks",id:"-what-it-checks-1",level:3},{value:"\ud83d\udca3 Why it matters",id:"-why-it-matters-1",level:3},{value:"\u26a0\ufe0f Triggers",id:"\ufe0f-triggers-1",level:3},{value:"\ud83e\udde0 Recommendation",id:"-recommendation-1",level:3},{value:"\ud83e\udde9 DropColumnWithoutBackup",id:"-dropcolumnwithoutbackup",level:2},{value:"\ud83d\udd0d What it checks",id:"-what-it-checks-2",level:3},{value:"\ud83d\udca3 Why it matters",id:"-why-it-matters-2",level:3},{value:"\u26a0\ufe0f Triggers",id:"\ufe0f-triggers-2",level:3},{value:"\ud83e\udde0 Recommendation",id:"-recommendation-2",level:3},{value:"\ud83e\udde9 AddUniqueConstraintOnNonEmptyColumn",id:"-adduniqueconstraintonnonemptycolumn",level:2},{value:"\ud83d\udd0d What it checks",id:"-what-it-checks-3",level:3},{value:"\ud83d\udca3 Why it matters",id:"-why-it-matters-3",level:3},{value:"\u26a0\ufe0f Triggers",id:"\ufe0f-triggers-3",level:3},{value:"\ud83e\udde0 Recommendation",id:"-recommendation-3",level:3},{value:"\ud83e\udde9 FloatColumnForMoney",id:"-floatcolumnformoney",level:2},{value:"\ud83d\udd0d What it checks",id:"-what-it-checks-4",level:3},{value:"\ud83d\udca3 Why it matters",id:"-why-it-matters-4",level:3},{value:"\u26a0\ufe0f Triggers",id:"\ufe0f-triggers-4",level:3},{value:"\ud83e\udde0 Recommendation",id:"-recommendation-4",level:3}];function c(e){const n={a:"a",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.p,{children:["Each rule can be enabled, disabled, or adjusted for severity in ",(0,l.jsx)(n.code,{children:"config/migration-linter.php"}),".\r\nLaravel Migration Linter analyzes your migration files and flags potential schema risks.\r\nBelow are the built-in linting rules, each with ",(0,l.jsx)(n.code,{children:"rationale"}),", ",(0,l.jsx)(n.code,{children:"triggers"}),", and ",(0,l.jsx)(n.code,{children:"configuration"})," examples."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"\ufe0f-severity-levels",children:"\u2699\ufe0f Severity Levels"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Severity"}),(0,l.jsx)(n.th,{children:"Meaning"}),(0,l.jsx)(n.th,{children:"Typical Use"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"info"})}),(0,l.jsx)(n.td,{children:"Advisory only"}),(0,l.jsx)(n.td,{children:"Local development"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"warning"})}),(0,l.jsx)(n.td,{children:"Risk detected, migration may succeed but unsafe"}),(0,l.jsx)(n.td,{children:"Default"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"error"})}),(0,l.jsx)(n.td,{children:"Definite risk, migration should fail in CI"}),(0,l.jsx)(n.td,{children:"Production enforcement"})]})]})]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"quick-navigation",children:"Quick Navigation"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#-addnonnullablecolumnwithoutdefault",children:"AddNonNullableColumnWithoutDefault"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#-missingindexonforeignkey",children:"MissingIndexOnForeignKey"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#-dropcolumnwithoutbackup",children:"DropColumnWithoutBackup"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#-adduniqueconstraintonnonemptycolumn",children:"AddUniqueConstraintOnNonEmptyColumn"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#-floatcolumnformoney",children:"FloatColumnForMoney"})}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-addnonnullablecolumnwithoutdefault",children:"\ud83e\udde9 AddNonNullableColumnWithoutDefault"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Category:"})," Reliability / Safety",(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.strong,{children:"Default severity:"})," ",(0,l.jsx)(n.code,{children:"warning"})]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"-what-it-checks",children:"\ud83d\udd0d What it checks"}),"\n",(0,l.jsxs)(n.p,{children:["Warns when a ",(0,l.jsx)(n.strong,{children:"NOT NULL"})," column is added to an existing table ",(0,l.jsx)(n.strong,{children:"without"})," a default value."]}),"\n",(0,l.jsx)(n.p,{children:"On a table that already has data, adding a non-nullable column requires a default or a backfill step; otherwise the migration may fail or lock for a long time."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"-why-it-matters",children:"\ud83d\udca3 Why it matters"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["MySQL and PostgreSQL will try to fill existing rows with ",(0,l.jsx)(n.code,{children:"NULL"}),", violating the NOT NULL constraint."]}),"\n",(0,l.jsx)(n.li,{children:"Large tables can experience long locks while the new column is materialized."}),"\n",(0,l.jsx)(n.li,{children:"Production deploys may fail midway, leaving partially applied migrations."}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"\ufe0f-triggers",children:"\u26a0\ufe0f Triggers"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"$table->string('email')->nullable(false);\r\n$table->integer('quantity')->nullable(false);\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u2705 Safe alternatives"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"// Option 1: Provide a sensible default\r\n$table->string('email')->default('')->nullable(false);\r\n\r\n// Option 2: Add as nullable, backfill, then alter\r\n$table->string('email')->nullable();\r\nDB::table('users')->update(['email' => '']);\r\n$table->string('email')->nullable(false)->change();\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u2699\ufe0f Configuration"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"'AddNonNullableColumnWithoutDefault' => [\r\n    'enabled'  => true,\r\n    'severity' => 'warning', // change to 'error' to fail CI\r\n],\n"})}),"\n",(0,l.jsx)(n.p,{children:"\ud83e\uddfe Example output"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"[warning] AddNonNullableColumnWithoutDefault  \r\n\u2192 Column 'email' on table 'users' is non-nullable without a default value.\n"})}),"\n",(0,l.jsx)(n.h3,{id:"-recommendation",children:"\ud83e\udde0 Recommendation"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Use defaults or staged backfills when introducing NOT NULL columns on non-empty tables."}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-missingindexonforeignkey",children:"\ud83e\udde9 MissingIndexOnForeignKey"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Category:"})," Performance / Integrity",(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.strong,{children:"Default severity:"})," ",(0,l.jsx)(n.code,{children:"warning"})]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"-what-it-checks-1",children:"\ud83d\udd0d What it checks"}),"\n",(0,l.jsxs)(n.p,{children:["Detects likely foreign-key columns (those ending with ",(0,l.jsx)(n.code,{children:"_id"}),") that are added ",(0,l.jsx)(n.strong,{children:"without"})," an index or foreign-key constraint."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"-why-it-matters-1",children:"\ud83d\udca3 Why it matters"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Queries that join on the foreign-key column become slow without an index."}),"\n",(0,l.jsx)(n.li,{children:"Deletes or updates on the parent table can lock the child table."}),"\n",(0,l.jsx)(n.li,{children:"Missing indexes lead to poor query-planner choices and high I/O cost."}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"\ufe0f-triggers-1",children:"\u26a0\ufe0f Triggers"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"$table->unsignedBigInteger('user_id');           // no index\r\n$table->integer('account_id');                   // no index\r\n$table->unsignedInteger('product_id');           // no FK\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u2705 Safe alternatives"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"// add an index explicitly\r\n$table->unsignedBigInteger('user_id');\r\n$table->index('user_id');\r\n\r\n// or use Laravel's helper (adds FK + index)\r\n$table->foreignId('user_id')->constrained();\r\n\r\n// composite key example\r\n$table->foreign(['user_id', 'tenant_id'])->references(['id', 'id'])->on(['users', 'tenants']);\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u2699\ufe0f Configuration"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"'MissingIndexOnForeignKey' => [\r\n    'enabled'  => true,\r\n    'severity' => 'warning', // or 'error' to block CI\r\n],\n"})}),"\n",(0,l.jsx)(n.p,{children:"\ud83e\uddfe Example output"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"[warning] MissingIndexOnForeignKey  \r\n\u2192 Foreign key-like column 'user_id' on table 'orders' may be missing an index or constraint.\n"})}),"\n",(0,l.jsx)(n.h3,{id:"-recommendation-1",children:"\ud83e\udde0 Recommendation"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Always index or constrain any column ending with _id."}),"\n",(0,l.jsx)(n.li,{children:"Prefer foreignId()->constrained() for clarity and safety."}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-dropcolumnwithoutbackup",children:"\ud83e\udde9 DropColumnWithoutBackup"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Category:"})," Data Safety",(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.strong,{children:"Default severity:"})," ",(0,l.jsx)(n.code,{children:"warning"})," ",(0,l.jsxs)(n.em,{children:["(consider setting to ",(0,l.jsx)(n.code,{children:"error"})," in CI)"]})]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"-what-it-checks-2",children:"\ud83d\udd0d What it checks"}),"\n",(0,l.jsxs)(n.p,{children:["Warns whenever a migration ",(0,l.jsx)(n.strong,{children:"drops one or more columns"})," from a table without any indication of backup or confirmation."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"-why-it-matters-2",children:"\ud83d\udca3 Why it matters"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Dropping a column permanently deletes its data."}),"\n",(0,l.jsx)(n.li,{children:"There\u2019s no easy rollback unless you restore from a database backup."}),"\n",(0,l.jsx)(n.li,{children:"In production, this can lead to irreversible data loss and application crashes."}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"\ufe0f-triggers-2",children:"\u26a0\ufe0f Triggers"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"$table->dropColumn('middle_name');\r\n\r\n$table->dropColumn(['middle_name', 'nickname']);\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u2705 Safer approaches"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"// 1\ufe0f\u20e3 Rename instead of drop (keep data)\r\n$table->renameColumn('middle_name', 'middle_name_old');\r\n\r\n// 2\ufe0f\u20e3 Back up data before dropping\r\nDB::table('users')\r\n  ->select('id', 'middle_name')\r\n  ->whereNotNull('middle_name')\r\n  ->orderBy('id')\r\n  ->chunk(500, fn($rows) => Storage::disk('backups')->append('user_middle_names.csv', json_encode($rows)));\r\n\r\n// 3\ufe0f\u20e3 Drop later once verified\r\n$table->dropColumn('middle_name_old');\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u2699\ufe0f Configuration"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"'DropColumnWithoutBackup' => [\r\n    'enabled'  => true,\r\n    'severity' => 'warning', // can be 'error' in strict mode\r\n],\n"})}),"\n",(0,l.jsx)(n.p,{children:"\ud83e\uddfe Example output"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"[warning] DropColumnWithoutBackup  \r\n\u2192 Dropping column 'middle_name' from table 'users' may result in data loss.\n"})}),"\n",(0,l.jsx)(n.h3,{id:"-recommendation-2",children:"\ud83e\udde0 Recommendation"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Treat column drops as production-critical changes."}),"\n",(0,l.jsx)(n.li,{children:"Back up, rename, or stage removals to avoid losing user data."}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-adduniqueconstraintonnonemptycolumn",children:"\ud83e\udde9 AddUniqueConstraintOnNonEmptyColumn"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Category:"})," Data Integrity",(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.strong,{children:"Default severity:"})," ",(0,l.jsx)(n.code,{children:"warning"})]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"-what-it-checks-3",children:"\ud83d\udd0d What it checks"}),"\n",(0,l.jsxs)(n.p,{children:["Warns when a migration adds a ",(0,l.jsx)(n.strong,{children:"unique constraint"})," (either explicitly or inline) to a column that may already contain duplicate data."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"-why-it-matters-3",children:"\ud83d\udca3 Why it matters"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["If duplicates exist, the migration will ",(0,l.jsx)(n.strong,{children:"fail"})," and may roll back partially."]}),"\n",(0,l.jsx)(n.li,{children:"Even if it succeeds on empty tables, applying later on filled tables can break deploys."}),"\n",(0,l.jsx)(n.li,{children:"Large tables with duplicates can cause long locks during constraint creation."}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"\ufe0f-triggers-3",children:"\u26a0\ufe0f Triggers"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"// explicit unique index\r\n$table->unique('email');\r\n\r\n// composite unique\r\n$table->unique(['email', 'tenant_id']);\r\n\r\n// inline chained unique()\r\n$table->string('email')->unique();\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u2705 Safer rollout pattern"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"\r\n// 1\ufe0f\u20e3 detect duplicates\r\n$dupes = DB::table('users')\r\n    ->select('email')\r\n    ->groupBy('email')\r\n    ->havingRaw('COUNT(*) > 1')\r\n    ->get();\r\n\r\nif ($dupes->isNotEmpty()) {\r\n    // cleanup manually or script it\r\n}\r\n\r\n// 2\ufe0f\u20e3 once deduped, safely add constraint\r\n$table->unique('email');\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u2699\ufe0f Configuration"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"'AddUniqueConstraintOnNonEmptyColumn' => [\r\n    'enabled'  => true,\r\n    'severity' => 'warning', // can raise to 'error' for CI enforcement\r\n],\n"})}),"\n",(0,l.jsx)(n.p,{children:"\ud83e\uddfe Example output"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"[warning] AddUniqueConstraintOnNonEmptyColumn  \r\n\u2192 Adding unique constraint to 'email' may fail if duplicates already exist in 'users'.\n"})}),"\n",(0,l.jsx)(n.h3,{id:"-recommendation-3",children:"\ud83e\udde0 Recommendation"}),"\n",(0,l.jsx)(n.p,{children:"Before adding unique constraints:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Scan for and resolve duplicate values."}),"\n",(0,l.jsx)(n.li,{children:"Consider adding the constraint only after data cleanup migrations."}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"-floatcolumnformoney",children:"\ud83e\udde9 FloatColumnForMoney"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Category:"})," Precision / Data Integrity",(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.strong,{children:"Default severity:"})," ",(0,l.jsx)(n.code,{children:"warning"})]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"-what-it-checks-4",children:"\ud83d\udd0d What it checks"}),"\n",(0,l.jsxs)(n.p,{children:["Warns when a migration defines a ",(0,l.jsx)(n.strong,{children:"float"})," column for values that appear to represent ",(0,l.jsx)(n.strong,{children:"money or currency"})," (e.g., ",(0,l.jsx)(n.code,{children:"price"}),", ",(0,l.jsx)(n.code,{children:"amount"}),", ",(0,l.jsx)(n.code,{children:"balance"}),", ",(0,l.jsx)(n.code,{children:"total"}),", etc.)."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"-why-it-matters-4",children:"\ud83d\udca3 Why it matters"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Floating-point numbers can introduce rounding errors."}),"\n",(0,l.jsx)(n.li,{children:"Financial calculations can become inconsistent across environments."}),"\n",(0,l.jsxs)(n.li,{children:["Use ",(0,l.jsx)(n.code,{children:"decimal(p, s)"})," for precise and predictable storage."]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"\ufe0f-triggers-4",children:"\u26a0\ufe0f Triggers"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"$table->float('price');\r\n$table->float('amount');\r\n$table->float('balance');\r\n$table->float('total');\r\n$table->float('tax');\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u2705 Recommended alternatives"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"// use decimal with explicit precision and scale\r\n$table->decimal('price', 10, 2);\r\n$table->decimal('amount', 12, 4);\r\n\r\n// or abstract it via a helper\r\n$table->money('price'); // custom macro if defined\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u2699\ufe0f Configuration"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"'FloatColumnForMoney' => [\r\n    'enabled'  => true,\r\n    'severity' => 'warning', // can be 'error' for strict CI mode\r\n],\n"})}),"\n",(0,l.jsx)(n.p,{children:"\ud83e\uddfe Example output"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"[warning] FloatColumnForMoney  \r\n\u2192 Column 'price' in table 'orders' uses float(); consider decimal(10,2) for precise monetary values.\n"})}),"\n",(0,l.jsx)(n.h3,{id:"-recommendation-4",children:"\ud83e\udde0 Recommendation"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Use decimal(p, s) (commonly decimal(10,2)) for any currency, cost, tax, or total columns."}),"\n",(0,l.jsx)(n.li,{children:"Reserve float() for scientific or approximate values only."}),"\n"]}),"\n",(0,l.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>s});var r=i(6540);const l={},a=r.createContext(l);function t(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);